---
layout: post
title: Команды Linux
excerpt_separator: <!--more-->
---

![]({{ site.baseurl }}assets/2015-07-08-linux-commands/linux_commands.png)

### Основные команды

```bash
ls -lash /home              # Просмотр содержимого католога
pwd                         # Путь к текущему каталогу
su -                        # Стать root + его переменные окружения 
cd /home                    # Переход в другой каталог
```

<!--more-->

```bash
touch index.htm                    # Создать новый файл
mkdir -p /home/name/www/{tools,i}  # Создать каталог с подкаталогами
cp www/index.htm .                 # Копируем файл в текущий каталог
```

```bash
mv -v /home/name_bak /home/name    # Перемещение/переименование 
                                   # файлов и каталогов
rm -rf /home/name/www              # Удаление каталога со всем 
                                   # содержимым
```

```bash
which ls                    # Полный путь имени/расположение команды
whatis ls                   # Очень короткая справка о команде
whereis grep                # Путь к исполняемым файлам, 
                            # исходным файлам и справочному рук-ву
```

```bash
date [-u|--utc|--universal] [MMDDhhmm[[CC]YY][.ss]]
date 031713402011                  # Устанавливаем дату: 
                                   # Чтв Мар 17 13:40:00 MSK 2011
time ls -lash /root                # Время выполнение команды
cal -3                             # Календарь на 3 месяца
set | grep $USER                   # Список переменных окружения

openssl md5 index.htm.bak          # Делаем md5 hash файла
```

### Просмотр содержимого файлов

```bash
cat bash.txt                # вывод содержимого файла(файлов)
```

```bash
less -N /etc/named.conf     # постраничный вывод текста с нумерацией
                            # строк (с прокруткой файла)
```
  
```bash
tail /var/log/mail/info     # команда выведет (по умолчанию) 
                            # последние 10 строк из файла
tail -n2 /var/log/mail/info # вывод последних n строк файла
tail -f /var/log/messages   # слежение за файлом
```

```bash
head /var/log/main/info     # вывод первых строк файла
                            # далее как в "tail"
```
  
```bash
more /etc/named.conf        # вывод содержимого файла на 
                            # экран отдельными страницами
```

```bash
nano /etc/named.conf        # просмотр и редактирование файла
```

### Остальные команды

#### Установка клиента ssh

Устанавливаем OpenSSH из терминала:

```bash
sudo apt-get install ssh
```

#### Операции работы с файлами и фильтрация

**cut** - выводит выбранные части входных строк.

```bash
cut -d: -f7 < /etc/passwd | sort -u     # из файла /etc/password
                                        # пути к оболочке each users
```

**grep** - *"General Regular Expression Parser”* - синтаксический 
анализатор общих регулярных выражений.
Формат команды:
grep [опции] <шаблон> [один или более файлов]

Шаблон - это регулярное выражение, хотя в большинстве случаев он состоит просто из одного слова
Опции:

* **i** - поиск без учета регистра (т.е. игнорирование разницы между верхним и нижним регистром);
* **v** - обратный поиск. Вывод строк, которые не соответствуют шаблону;
* **n** - вывод номера строки для каждой из найденных строк;
* **w** - сообщает grep'у, что шаблон должен совпадать со всем словом.

Команда grep может быть использована в канале. 

```bash
grep '^a' 'words.txt'   # ывести из файла «words.txt» все
                        # строки, начинающиеся с буквы «a»
```

```bash
grep -f template.txt data.txt   # сравнить два файла и вывести
                                # совпадающие строки.
grep -f -v template.txt data.txt    # сравнить два файла и 
                                    # вывести несовпадающие строки.
```

#### Фильтр процессов

```bash
ps -aef | grep '[b]ash'                 # Фильтр процессов без
ps -aef | grep -v 'grep' | grep bash    # вывода самой команды grep,
                                        # например, если ищем bash
```

#### cURL - утилита для скачивания и загрузки файлов

```bash
curl -O http://linux-notes.org/test_file.zip    # скачать и сохранить
```

*Пока все!*